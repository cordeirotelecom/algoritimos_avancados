<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Funcionalidades</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #1a1a2e; color: white; }
        .test-item { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background: #4ade80; color: black; }
        .error { background: #f87171; }
        .warning { background: #fbbf24; color: black; }
    </style>
</head>
<body>
    <h1>🧪 Teste de Funcionalidades - Algoritmos de Ordenação</h1>
    <div id="testResults"></div>
    
    <script>
        function runTests() {
            const results = [];
            const resultsContainer = document.getElementById('testResults');
            
            // Test 1: Check if main HTML elements exist
            const elementsToCheck = [
                'generateArray',
                'startSort',
                'resetSort',
                'compareBtn',
                'statsBtn',
                'tutorialBtn',
                'settingsBtn',
                'exportBtn',
                'shareBtn',
                'startComparison',
                'exitComparison',
                'closeDashboard'
            ];
            
            elementsToCheck.forEach(id => {
                const element = parent.document.getElementById(id);
                if (element) {
                    results.push({ test: `Elemento #${id}`, status: 'success', message: 'Encontrado' });
                } else {
                    results.push({ test: `Elemento #${id}`, status: 'error', message: 'NÃO encontrado' });
                }
            });
            
            // Test 2: Check if JavaScript classes are available
            const classesToCheck = ['SortingAlgorithms', 'VisualizationController', 'GamificationController'];
            classesToCheck.forEach(className => {
                if (parent.window[className]) {
                    results.push({ test: `Classe ${className}`, status: 'success', message: 'Carregada' });
                } else {
                    results.push({ test: `Classe ${className}`, status: 'warning', message: 'Pode não estar disponível' });
                }
            });
            
            // Test 3: Check if ALGORITHMS object exists
            if (parent.window.ALGORITHMS || parent.ALGORITHMS) {
                const algorithms = parent.window.ALGORITHMS || parent.ALGORITHMS;
                const expectedAlgorithms = ['bubble', 'selection', 'insertion', 'quick', 'merge', 'heap', 'radix'];
                expectedAlgorithms.forEach(alg => {
                    if (algorithms[alg]) {
                        results.push({ test: `Algoritmo ${alg}`, status: 'success', message: 'Definido' });
                    } else {
                        results.push({ test: `Algoritmo ${alg}`, status: 'error', message: 'NÃO definido' });
                    }
                });
            } else {
                results.push({ test: 'ALGORITHMS object', status: 'error', message: 'NÃO encontrado' });
            }
            
            // Display results
            resultsContainer.innerHTML = '';
            results.forEach(result => {
                const div = document.createElement('div');
                div.className = `test-item ${result.status}`;
                div.innerHTML = `
                    <strong>${result.test}:</strong> ${result.message}
                    ${result.status === 'success' ? '✅' : result.status === 'error' ? '❌' : '⚠️'}
                `;
                resultsContainer.appendChild(div);
            });
            
            // Summary
            const successCount = results.filter(r => r.status === 'success').length;
            const errorCount = results.filter(r => r.status === 'error').length;
            const warningCount = results.filter(r => r.status === 'warning').length;
            
            const summary = document.createElement('div');
            summary.className = 'test-item';
            summary.style.background = '#667eea';
            summary.innerHTML = `
                <h3>📊 Resumo dos Testes:</h3>
                <p>✅ Sucessos: ${successCount}</p>
                <p>❌ Erros: ${errorCount}</p>
                <p>⚠️ Avisos: ${warningCount}</p>
                <p><strong>Total: ${results.length} testes</strong></p>
            `;
            resultsContainer.appendChild(summary);
        }
        
        // Run tests when page loads
        setTimeout(runTests, 1000);
    </script>
    
    <p><a href="index.html" style="color: #667eea;">← Voltar para a aplicação principal</a></p>
</body>
</html>